# Knowledge Base API

## Описание
Этот API предоставляет доступ к семантическому поиску по базе знаний, а также позволяет подсчитывать количество токенов в запросе.

---

## 1. Семантический поиск

### Эндпоинт
- **URL:** `https://knowledgebase.technokratos.com/get-relevant-data`
- **Метод:** `POST`
- **Модель ответа:** `KnowledgeBaseResponse`

### Структура запроса

#### Тело запроса: `KnowledgeBaseRequestBody`

| Поле      | Тип   | Описание                  |
|-----------|-------|---------------------------|
| `query`   | `str` | Текстовый запрос для поиска. |

---

### Структура ответа

#### Тело ответа: `KnowledgeBaseResponse`

| Поле      | Тип                  | Описание                               |
|-----------|----------------------|----------------------------------------|
| `results` | `List[RelevantContent]` | Список релевантных результатов.         |

##### Модель `RelevantContent`

| Поле    | Тип      | Описание                                |
|---------|----------|-----------------------------------------|
| `text`  | `str`    | Текст релевантного контента.            |
| `weight`| `float`  | Вес (релевантность) результата.         |

---

### Пример использования

#### Запрос

```json
POST https://knowledgebase.technokratos.com/get-relevant-data
{
  "query": "кто работает в отделе Android?"
}
```

#### Ответ

```json
{
  "results": [
    {
      "text": "Android отдел компании существует с самых истоков, с 2016 года. Наши андроид разработчики за это время создали много классных приложений. Сейчас в отделе андроид работают 3 человека: Руфат Мустафин (middle) работает в компании с 16 июля 2024 года. В свободное время он любит прогулки по лесу на велосипеде. Айдан Галеев (junior) попал к нам из Агоны (подразделение, занимающееся образованием и сотрудничающее с вузами) 6 августа 2024 года. Он родом из провинциального городка, иногда любит поиграть в доту, но не токсик. Янчеленко Александр (middle) работает с нами с 30 января 2025 года. Его хобби это кататься на велосипеде, чинить жигуль и играть в шахматы.",
      "weight": 1
    },
    {
      "text": "Сервер мы пишем на Java. Здесь у нас Spring Boot, базы данных на Spring JPA, Hibernate, Postgres, JDBC, Liquidbase и MongoDB. Брокеры RabbitMQ и Kafka. Для развертывания и мониторинга используем Docker, EFK, Nginx, Grafana и Prometheus. Во frontend у нас JavaScript, TypeScript и CSS, а работаем мы как с Angular, так и с React и Vue. В мобильных направлениях у нас есть Android и iOS. В Android мы пишем на Kotlin, используем архитектурные компоненты (ViewModel, Room), для соединения используем Retrofit и OkHttp, а за асинхронность отвечают coroutines или RxJava. В iOS мы пишем на Swift, для работы с сетью используем Moya и Alamofire.",
      "weight": 0.4347391501210067
    },
    {
      "text": "Если возникли проблемы с рабочей техникой или с программным обеспечением, доступами или корпоративной почтой, можно обратиться в наш центр поддержки, который доступен по ссылке https://jira.technokratos.com/servicedesk/customer/portal/2. Нужна лишь корпоративная учетная запись.",
      "weight": 0.42810209186952014
    }
  ]
}
```

---

## 2. Подсчет количества токенов

### Эндпоинт
- **URL:** `https://knowledgebase.technokratos.com/get-tokens-count`
- **Метод:** `POST`
- **Модель ответа:** `int` (количество токенов)

### Структура запроса

#### Тело запроса: `KnowledgeBaseRequestBody`

| Поле      | Тип   | Описание                        |
|-----------|-------|--------------------------------|
| `query`   | `str` | Текст, для которого нужно посчитать количество токенов. |

---

### Структура ответа

#### Тело ответа: `int`

Возвращается количество токенов в переданном тексте.

---

### Пример использования

#### Запрос

```json
POST https://knowledgebase.technokratos.com/get-tokens-count
{
  "query": "Каждые полгода в компании проводится аттестация"
}
```

#### Ответ

```json
{
  "tokens_count": 16
}
```