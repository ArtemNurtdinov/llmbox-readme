# Knowledge Base API

## Описание
Этот API предоставляет доступ к семантическому поиску по базе знаний, а также позволяет подсчитывать количество токенов в запросе.

---

## 1. Семантический поиск

### Эндпоинт
- **URL:** `https://knowledgebase.technokratos.com/get-relevant-data`
- **Метод:** `POST`
- **Модель ответа:** `KnowledgeBaseResponse`

### Структура запроса

#### Тело запроса: `KnowledgeBaseRequestBody`

| Поле      | Тип   | Описание                  |
|-----------|-------|---------------------------|
| `query`   | `str` | Текстовый запрос для поиска. |

---

### Структура ответа

#### Тело ответа: `KnowledgeBaseResponse`

| Поле      | Тип                  | Описание                               |
|-----------|----------------------|----------------------------------------|
| `results` | `List[RelevantContent]` | Список релевантных результатов.         |

##### Модель `RelevantContent`

| Поле    | Тип      | Описание                                |
|---------|----------|-----------------------------------------|
| `text`  | `str`    | Текст релевантного контента.            |
| `weight`| `float`  | Вес (релевантность) результата.         |

---

### Пример использования

#### Запрос

```json
POST https://knowledgebase.technokratos.com/get-relevant-data
{
  "query": "Есть ли в компании девопсы"
}
```

#### Ответ

```json
{
  "results": [
    {
      "text": "Что же касается отдела девопс — это ребята, которые предпочитают тусить на кухне, ведь там всегда под боком плойка и вкусняшки. Руководит девопсами сейчас Саша Козлов, а в отделе работают 3 человека. Руслан Абдуллавев (senior devops), также являющийся нашим главным гачи мастером, старожилой компании и охранником пиццы. Его можно найти на кухне в 99% случаев, оставшийся 1% времени он обитает в какой-нибудь кальянной. Антон Заец (системный администратор, middle- devops) сейчас закрывает большую часть системно-административных задач и может поворчать на вас, но учитывая специфику его работы мы благодарны за то, что он хотя бы нас не бьет. Третий сотрудник отдела девопс это Артемий Мистриков (senior devops), он является императором отдела и во имя империи готов карать еретиков, как это было во вселенной вархаммер. Подробнее о наших девопсах можно узнать из их пространства по ссылке https://wiki.technokratos.com/pages/viewpage.action?pageId=78610838",
      "weight": 1
    },
    {
      "text": "Android отдел компании существует с самых истоков, с 2016 года. Наши андроид разработчики за это время создали много классных приложений. Сейчас в отделе андроид работают 3 человека: Руфат Мустафин (middle) работает в компании с 16 июля 2024 года. В свободное время он любит прогулки по лесу на велосипеде. Айдан Галеев (junior) попал к нам из Агоны (подразделение, занимающееся образованием и сотрудничающее с вузами) 6 августа 2024 года. Он родом из провинциального городка, иногда любит поиграть в доту, но не токсик. Янчеленко Александр (middle) работает с нами с 30 января 2025 года. Его хобби это кататься на велосипеде, чинить жигуль и играть в шахматы.",
      "weight": 0.30030068976296015
    },
    {
      "text": "Посвящение в Технократы проводится на новогоднем или летнем корпоративе. Оно доступно для всех сотрудников, прошедших испытательный срок. В процессе подписывается кредо компании и вручается черная футболка с логотипом.",
      "weight": 0.27440668214297115
    }
  ]
}
```

---

## 2. Подсчет количества токенов

### Эндпоинт
- **URL:** `https://knowledgebase.technokratos.com/get-tokens-count`
- **Метод:** `POST`
- **Модель ответа:** `int` (количество токенов)

### Структура запроса

#### Тело запроса: `KnowledgeBaseRequestBody`

| Поле      | Тип   | Описание                        |
|-----------|-------|--------------------------------|
| `query`   | `str` | Текст, для которого нужно посчитать количество токенов. |

---

### Структура ответа

#### Тело ответа: `int`

Возвращается количество токенов в переданном тексте.

---

### Пример использования

#### Запрос

```json
POST https://knowledgebase.technokratos.com/get-tokens-count
{
  "query": "Каждые полгода в компании проводится аттестация"
}
```

#### Ответ

```json
{
  "tokens_count": 16
}
```